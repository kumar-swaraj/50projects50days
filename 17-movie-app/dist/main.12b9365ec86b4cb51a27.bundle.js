!function(){"use strict";const e="https://api.themoviedb.org/3/",t=document.getElementById("form"),n=document.getElementById("search"),i=document.getElementById("main"),a=async function(e,t,n=1,i=!1){const a={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjYjEzNDBjMGUzMTJiN2JjZTQyMTE0OTQ3YWZhMjViMiIsInN1YiI6IjY1OGM4ZjhjMzIzZWJhMGY2ODM2NjkzMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.cF1VMwn8_U4Ln2taoalumGQ6g4BaUsuKqayeSj4WiLQ"}};try{if(i){const n=`${e}search/movie?query=${t}`;var o=await fetch(n,a)}else{const t=`${e}discover/movie?sort_by=popularity.desc&page=${n}`;o=await fetch(t,a)}if(!o.ok)throw new Error(`status: ${o.status} || Something went wrong`);return(await o.json()).results}catch(e){throw e}},o=async function(t,n,o=!1){let r;try{r=o?await a(e,n,t,o):await a(e,void 0,t,o)}catch(e){const t=document.createElement("div");return t.classList.add("error"),t.textContent="data not found",i.innerHTML="",i.append(t),void console.error(e)}r&&0===r.length||(i.innerHTML="",r.forEach((e=>{i.insertAdjacentHTML("beforeend",function({poster_path:e,title:t,vote_average:n,overview:i}){return`\n  <figure class="movie">\n    <img\n      src="https://image.tmdb.org/t/p/w1280${e}"\n      alt="${t}"\n      class="movie__img"\n    />\n    <div class="movie__overlay">\n      <figcaption class="movie__info">\n        <h3 class="movie__title">${t}</h3>\n        <span class="movie__rating movie__rating--${n>7?"green":n>4?"yellow":"red"}">${n}</span>\n      </figcaption>\n\n      <div class="movie__overview">\n        <h3>Overview</h3>\n\n        <span>\n        ${i}\n        </span>\n      </div>\n    </div>\n  </figure>\n  `}(e))})))};o(1),t.addEventListener("submit",(function(e){e.preventDefault();const t=n.value.trim();n.value="",""!==t&&o(1,t,!0)}))}();